# render.yaml - Render.com deployment configuration
services:
  - type: web
    name: telegram-funnel-bot
    env: node
    plan: free
    buildCommand: npm install
    startCommand: npm start
    healthCheckPath: /health
    envVars:
      - key: NODE_ENV
        value: production
      - key: BOT_TOKEN
        sync: false
      - key: BASE_URL
        sync: false
      - key: PAID_CHANNEL_ID
        sync: false
      - key: ADMIN_IDS
        sync: false
      - key: ADMIN_USERNAME
        sync: false
      - key: DATABASE_URL
        fromDatabase:
          name: funnel-bot-db
          property: connectionString
      - key: PAYME_MERCHANT_ID
        sync: false
      - key: PAYME_KEY
        sync: false
      - key: CALLBACK_RETURN_URL
        sync: false
      - key: CLICK_SERVICE_ID
        sync: false
      - key: CLICK_MERCHANT_ID
        sync: false
      - key: CLICK_SECRET_KEY
        sync: false
      - key: CLICK_RETURN_URL
        sync: false
      - key: SUBSCRIPTION_PRICE
        value: "9700000"
      - key: CHAT_MONITOR_ENABLED
        value: "true"
      - key: CHAT_MONITOR_NOTIFY_ADMINS
        value: "false"
      - key: ADMIN_USER
        sync: false
      - key: ADMIN_PASS
        sync: false

databases:
  - name: funnel-bot-db
    plan: free
    databaseName: funnel_bot
    user: funnel_bot_user
